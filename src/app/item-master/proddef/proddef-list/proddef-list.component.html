<ActionBar title="Product Defination">
</ActionBar>
<Page class="page">
    <StackLayout orientation="vertical">
        <GridLayout rows="auto,auto,auto,auto,auto,*">
            <StackLayout class="form" row="0" orientation="horizontal" width="100%">
                <TextField hint="Search..." class="input"
                           id= "searchstr"  
                          [(ngModel)]="searchstr"  
                          (textChange)="onTextChange($event)"
                           width="80%"></TextField>
                <!-- <Button class="btn-rounded-sm btn-primary btn-active" 
                        id="btnSearch"                       
                        (tap)="onSearchTap($event)"
                        width="20%" height="40" >
                    <FormattedString>
                        <Span [text]="iconval" class="icon"></Span>
                    </FormattedString>  
               </Button> -->
               <Button class="btn-rounded-sm btn-outline btn-active" 
                        id="btnBack"                       
                        (tap)="onBack($event)"
                        width="20%" height="40" >
                   <FormattedString>
                        <Span [text]="iconHome" class="fas faclass"></Span>
                    </FormattedString>  
                </Button>
            </StackLayout>
            <StackLayout row="1" orientation="horizontal" width="100%">
                <Label [text]="errmsg" 
                       width="100%" 
                       visibility="{{ showError ? 'visible' : 'collapsed' }}"
                       class="err-msg"></Label>
                
            </StackLayout>
            <StackLayout row="2" orientation="horizontal" width="100%" backgroundcolor="#566573">
                <Label text="CODE" width="65%" class="caption"></Label>
                <Label text="PackSize" width="20%" class="caption"></Label>
                <Label text="UOM" width="15%" class="caption"></Label>
            </StackLayout>
            <StackLayout row="3" orientation="horizontal" width="100%" backgroundcolor="#566573">
                <Label text="DESCRIPTION" width="100%" class="caption"></Label>
                <!-- <Label text="PRICE" width="20%" class="caption caption-number"></Label>-->
            </StackLayout>
            <StackLayout *ngIf="isBusy" row="4" orientation="vertical" width="100%">
                    <ActivityIndicator #activityIndicator [busy]="isBusy" 
                                   width="100%" 
                                   height="100%" 
                                   class="activity-indicator"></ActivityIndicator>
            </StackLayout> 
            <ScrollView row="5">
                <!-- <PullToRefresh [refreshing]="isRefresh" (refresh)="refreshList($event)"> -->
                    <ListView [items]="items">                          
                        <ng-template let-item="item" let-i="index" let-odd="odd" let-even="even">  
                            <GridLayout rows="auto,auto"
                                        [class.selected]="item.icode===selectedCode"
                                        [class.even]="even"
                                        [class.odd]="odd"
                                        (tap)="onItemTap(item)"
                                        orientation="horizontal" width="100%">
                            
                                <StackLayout row="0" orientation="horizontal" width="100%" >
                                    <Label [text]="item.icode"  width="65%"></Label>
                                    <Label [text]="item.packsize"  width="20%"></Label>
                                    <Label [text]="item.uom"  width="15%"></Label>
                                </StackLayout>
                                <StackLayout row="1" orientation="horizontal" width="100%" >
                                    <Label [text]="item.idesc"  width="100%"></Label>
                                    <!-- <Label [text]="item.sellingPrice | number : '1.2-2'" width="20%" class="caption-number"></Label> -->
                                </StackLayout>
                            </GridLayout>
                        </ng-template>                        
                    </ListView>
                <!-- </PullToRefresh> -->
          </ScrollView>
          <!-- <ActivityIndicator [busy]="isRefresh" rowSpan="3"></ActivityIndicator> -->
        </GridLayout>
    </StackLayout>

</Page>