<ActionBar title="Item Balance [{{icode}}]">  
</ActionBar>
<Page class="page">
    <StackLayout orientation="vertical">
        <GridLayout rows="auto,auto,*,auto,auto">
            <StackLayout row="0" orientation="horizontal" width="100%" backgroundcolor="#566573">
                <Label text="WAREHOUSE" width="30%" class="caption"></Label>
                <Label text="DATE" width="30%" class="caption"></Label>
                <Label text="QTY" width="25%" class="caption caption-number"></Label>
                <Label text="UOM" width="15%" class="caption caption-number"></Label>
            </StackLayout>
            <StackLayout row="1" orientation="horizontal" width="100%" backgroundcolor="#566573">
                <Label text="LOT NO" width="30%" class="caption"></Label>
                <Label text="STATUS" width="40%" class="caption"></Label>
                <!-- <Label text="UOM" width="30%" class="caption"></Label>                 -->
            </StackLayout>
            <ScrollView row="2">                
                    <!-- <PullToRefresh [refreshing]="isRefresh" (refresh)="refreshList($event)"> -->
                    <ListView row="0" [items]="itembalances">
                        <ng-template let-item="item" let-i="index" let-odd="odd" let-even="even">
                            <GridLayout rows="auto,auto" 
                                       [class.even]="even" 
                                       [class.odd]="odd" 
                                       orientation="horizontal"
                                       width="100%">

                                <StackLayout row="0" orientation="horizontal" width="100%">
                                    <Label [text]="item.warehouse" width="30%"></Label>
                                    <Label [text]="item.trxdate | date:'dd/MM/yyyy'" width="30%"></Label>
                                    <Label [text]="item.qty| number: '.2'" class="caption-number" width="25%"></Label>
                                    <Label [text]="item.uom" class="caption-number" width="15%"></Label>
                                </StackLayout>
                                <StackLayout row="1" orientation="horizontal" width="100%">
                                    <Label [text]="item.lotno" width="30%"></Label>
                                    <Label [text]="item.status" width="40%"></Label>

                                </StackLayout>
                            </GridLayout>
                        </ng-template>
                    </ListView>
                <!-- </PullToRefresh> -->
            </ScrollView> 
            <StackLayout row="3" orientation="horizontal" width="100%">
                    <Label text="Total Qty : {{totalqty | number: '.2'}}" 
                           class="caption-number-total" 
                           width="100%"></Label>
                 
            </StackLayout>
            <StackLayout row="4" width="100%">
                    <Button class="btn-sm btn-active btn-primary" 
                            id="btnSave" 
                            (tap)="onBack($event)"
                            width="100%"                         
                            height="40"                       
                            >
                        <FormattedString>
                            <Span [text]="iconHome" class="fas faclass">
                            </Span>                        
                        </FormattedString>  
                    </Button>
              </StackLayout>           
            <!-- <ActivityIndicator [busy]="isRefresh" rowSpan="3"></ActivityIndicator> -->
        </GridLayout>
    </StackLayout>

</Page>